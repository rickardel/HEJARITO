@model HEJARITO.Models.Activity

@{
    ViewBag.Title = "Detaljer";
}

@if (User.Identity.IsAuthenticated) //TM 2018-03-13 05:47
{
    if (User.IsInRole("Teacher"))
    {
        @Html.ActionLink("[Ändra] ", "Edit", new { id = Model.Id })
    }

    <h1>
        @Html.DisplayFor(model => model.Name)
        @foreach (var item in Model.Documents)
        {
            @Html.ActionLink(" ", "Download", "Documents", new { Id = item.Id }, new { @title = item.Description, @class = "btn btn-success glyphicon glyphicon-file" })
        }
    </h1>
    <div>
        <h4>Aktivitet</h4>
        <hr />

        <p>@Html.DisplayFor(model => model.Description)</p>
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.StartDate)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.StartDate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.DeadlineDate)
            </dt>
            <dd>
                <strong>@Html.DisplayFor(model => model.DeadlineDate)</strong>
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.EndDate):
            </dt>
            <dd>
                @Html.DisplayFor(model => model.EndDate)
            </dd>

        </dl>
        <hr />
        @if (User.IsInRole("Teacher"))
        {
            @Html.ActionLink("[Ladda upp dokument för denna aktivitet]", "CreateActivityDocument", "Documents", new { ActivityId = Model.Id }, "")
            <h2>Inlämningsuppgift</h2>
            <span id="list-Students" style="background-color: beige;">
                @Html.Partial("_ActivityStudents", Model.Module.Course.ApplicationUsers)
            </span>
        }
        else
        {
            @Html.ActionLink("[Ladda upp inlämningsuppgift]", "Create", "StudentDocuments", new { ActivityId = Model.Id }, "")
        }



    </div>

}
